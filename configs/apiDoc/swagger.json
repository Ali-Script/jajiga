{
    "openapi": "3.0.1",
    "info": {
        "title": "Power By Ali-Script",
        "version": "1.0.0"
    },
    "tags": [
        {
            "name": "Authentication"
        },
        {
            "name": "Login"
        },
        {
            "name": "Utils"
        },
        {
            "name": "Villa"
        }
    ],
    "paths": {
        "/": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Home Page | (Auth Middleware)",
                "parameters": [
                    {
                        "name": "Authorization Token",
                        "in": "header",
                        "required": "true"
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "No Body Set": ""
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "403": {
                        "description": "Sorry u has banned from this website"
                    },
                    "404": {
                        "description": "User Not Found ! | Undefined Cookie"
                    },
                    "440": {
                        "description": "Please login no user found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/signup": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Check If User Already Exists Redirect To Login If Not Redirect To Register",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "phone": "Phone Number Format"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "403": {
                        "description": "Sorry u has banned from this website"
                    },
                    "409": {
                        "description": "Phone number is required"
                    },
                    "410": {
                        "description": "Phone Number format is wrong"
                    },
                    "411": {
                        "description": "User Already Exists redirect to login page"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/auth/sendCode": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Enter Your Phone Number To Send Code",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "phone": "phone number",
                                    "firstName": "firstName",
                                    "lastName": "lastName",
                                    "password": "^[a-zA-Z0-9]{8,999}$",
                                    "confirmPassword": "^[a-zA-Z0-9]{8,999}$"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "409": {
                        "description": "Validator Error"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/auth/confirmCode": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Confirm Sended Code And Create User",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "code": "otp code",
                                    "phone": "phone number",
                                    "firstName": "firstName",
                                    "lastName": "lastName",
                                    "password": "^[a-zA-Z0-9]{8,999}$",
                                    "confirmPassword": "^[a-zA-Z0-9]{8,999}$"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "400": {
                        "description": "Invalid Code !"
                    },
                    "409": {
                        "description": "Validator Error"
                    },
                    "404": {
                        "description": "no otp code found for this number"
                    },
                    "405": {
                        "description": "Code has Used before!"
                    },
                    "406": {
                        "description": "User already exists"
                    },
                    "422": {
                        "description": "Code Has Expired !"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/loginByPassword/{phone}": {
            "post": {
                "tags": [
                    "Login"
                ],
                "parameters": [
                    {
                        "name": "phone",
                        "in": "path",
                        "required": "true"
                    }
                ],
                "summary": "Login By Password",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "password": "^[a-zA-Z0-9]{8,999}$"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "400": {
                        "description": "Phone is Incrract !!"
                    },
                    "403": {
                        "description": "Sorry u has banned from this website"
                    },
                    "401": {
                        "description": "Password is Incrract !!"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/loginByCode/{phone}": {
            "post": {
                "tags": [
                    "Login"
                ],
                "parameters": [
                    {
                        "name": "phone",
                        "in": "path",
                        "required": "true"
                    }
                ],
                "summary": "Login By Otp Code",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "code": "1111"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "400": {
                        "description": "Invalid Code !"
                    },
                    "403": {
                        "description": "Sorry u has banned from this website"
                    },
                    "404": {
                        "description": "no user found"
                    },
                    "405": {
                        "description": "Code has Used before!"
                    },
                    "408": {
                        "description": "There is no Code for this number"
                    },
                    "422": {
                        "description": "Code Has Expired "
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/getMe": {
            "get": {
                "tags": [
                    "Utils"
                ],
                "summary": "GetMe",
                "parameters": [
                    {
                        "name": "Authorization Token",
                        "in": "header",
                        "required": "true"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "440": {
                        "description": "Please login no user found !!"
                    },
                    "403": {
                        "description": "Sorry u has banned from this website"
                    },
                    "404": {
                        "description": "User Not Found !"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/setNewAccessToken": {
            "get": {
                "tags": [
                    "Utils"
                ],
                "summary": "Set New Refresh Token",
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "404": {
                        "description": "User Not Found ! | Undefined Cookie"
                    },
                    "403": {
                        "description": "Refresh Token has expired please login"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/resendCode/{phone}": {
            "post": {
                "tags": [
                    "Utils"
                ],
                "parameters": [
                    {
                        "name": "phone",
                        "in": "path",
                        "required": "true"
                    }
                ],
                "summary": "Resend Otp Code",
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "404": {
                        "description": "no user found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/villa/add": {
            "post": {
                "tags": [
                    "Villa"
                ],
                "parameters": [
                    {
                        "name": "Authorization Token",
                        "in": "header",
                        "required": "true"
                    }
                ],
                "summary": "Add New Villa",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "title": "string",
                                    "address": {
                                        "state": "string",
                                        "city": "string",
                                        "address": "string"
                                    },
                                    "coordinates": {
                                        "x": "string",
                                        "y": "string"
                                    },
                                    "cover": [
                                        "string",
                                        "string"
                                    ],
                                    "aboutVilla": {
                                        "villaSpace": [
                                            "privetRoom",
                                            "lockedRoom",
                                            "semiClosedRoom",
                                            "commonRoom"
                                        ],
                                        "villaType": "ObjectId",
                                        "villaZone": [
                                            "littoral",
                                            "silvan",
                                            "summerVilla",
                                            "desertHouse",
                                            "townHouse",
                                            "suburbanHouse",
                                            "cottage"
                                        ],
                                        "aboutVilla": "string"
                                    },
                                    "capacity": {
                                        "normalCapacity": "number",
                                        "maxCapacity": "number",
                                        "buildingSize": "number",
                                        "fuundationSize": "number",
                                        "bedRoom": "number",
                                        "description": "string"
                                    },
                                    "facility": {
                                        "facility": {
                                            "furniture": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "fridge": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "tv": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "diningTable": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "heatingSystem": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "coolingSystem": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "parking": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "Eightball": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "wifi": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "toilet": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "pool": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "moreFacility": "string"
                                        },
                                        "sanitaryFacilities": {
                                            "changeThePillow": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "changeTheBedsheet": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "chargingToiletPaper": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "dishSoap": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "chargingDishSoap": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "antiseptics": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "moreSanitaryFacilities": "string"
                                        }
                                    },
                                    "price": {
                                        "newYear": "number",
                                        "spring": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "summer": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "autumn": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "winter": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        }
                                    },
                                    "rules": {
                                        "pet": "boolean",
                                        "music": "boolean",
                                        "smoke": "boolean",
                                        "more": "string"
                                    },
                                    "step": "number",
                                    "finished": "boolean"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "409": {
                        "description": "Validator Error"
                    },
                    "422": {
                        "description": "this location is already exist"
                    },
                    "200": {
                        "description": "Succ !"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/villa/update/{id}": {
            "put": {
                "tags": [
                    "Villa"
                ],
                "parameters": [
                    {
                        "name": "Authorization Token",
                        "in": "header",
                        "required": "true"
                    },
                    {
                        "name": "id",
                        "in": "path",
                        "required": "true"
                    }
                ],
                "summary": "update Villa",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "example": {
                                    "title": "string",
                                    "address": {
                                        "state": "string",
                                        "city": "string",
                                        "address": "string"
                                    },
                                    "coordinates": {
                                        "x": "string",
                                        "y": "string"
                                    },
                                    "cover": [
                                        "string",
                                        "string"
                                    ],
                                    "aboutVilla": {
                                        "villaSpace": [
                                            "privetRoom",
                                            "lockedRoom",
                                            "semiClosedRoom",
                                            "commonRoom"
                                        ],
                                        "villaType": "ObjectId",
                                        "villaZone": [
                                            "littoral",
                                            "silvan",
                                            "summerVilla",
                                            "desertHouse",
                                            "townHouse",
                                            "suburbanHouse",
                                            "cottage"
                                        ],
                                        "aboutVilla": "string"
                                    },
                                    "capacity": {
                                        "normalCapacity": "number",
                                        "maxCapacity": "number",
                                        "buildingSize": "number",
                                        "fuundationSize": "number",
                                        "bedRoom": "number",
                                        "description": "string"
                                    },
                                    "facility": {
                                        "facility": {
                                            "furniture": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "fridge": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "tv": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "diningTable": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "heatingSystem": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "coolingSystem": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "parking": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "Eightball": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "wifi": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "toilet": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "pool": {
                                                "status": "boolean",
                                                "description": "string",
                                                "placeHolder": "string"
                                            },
                                            "moreFacility": "string"
                                        },
                                        "sanitaryFacilities": {
                                            "changeThePillow": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "changeTheBedsheet": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "chargingToiletPaper": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "dishSoap": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "chargingDishSoap": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "antiseptics": {
                                                "status": "boolean",
                                                "description": "string"
                                            },
                                            "moreSanitaryFacilities": "string"
                                        }
                                    },
                                    "price": {
                                        "newYear": "number",
                                        "spring": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "summer": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "autumn": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        },
                                        "winter": {
                                            "midWeek": "number",
                                            "holidays": "number",
                                            "peakDays": "number"
                                        }
                                    },
                                    "rules": {
                                        "pet": "boolean",
                                        "music": "boolean",
                                        "smoke": "boolean",
                                        "more": "string"
                                    },
                                    "step": "number",
                                    "finished": "boolean"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Succ !"
                    },
                    "400": {
                        "description": "Invalid Object Id"
                    },
                    "401": {
                        "description": "no villa found with this id"
                    },
                    "409": {
                        "description": "Validator Error"
                    },
                    "422": {
                        "description": "this location is already exist"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/villa/getAll": {
            "get": {
                "tags": [
                    "Villa"
                ],
                "summary": "Get All Villas",
                "responses": {
                    "200": {
                        "description": "Succ"
                    },
                    "404": {
                        "description": "no villa found"
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        }
    }
}